<!-- backend/head.html -->
<style>
  :root{
    /* muss zu titel.html passen (für links/rechts) */
    --title-pad-x: 72px;

    /* NEU: einheitlicher Abstand (kleiner als vorher 72, größer als vorher 18/14) */
    --head-gap: 34px;

    --radius: 18px;
    --shadow-soft: 0 12px 34px rgba(0,0,0,.14);
  }

  .head-wrap{
    padding-left: var(--title-pad-x);
    padding-right: var(--title-pad-x);
    padding-top: var(--head-gap);     /* ROT */
    padding-bottom: var(--head-gap);
    width:100%;
  }

  .hero{
    width:100%;
    height: 52vh;
    min-height: 360px;
    max-height: 620px;

    border-radius: var(--radius);
    overflow:hidden;
    position:relative;
    background:#d9dde3;
    box-shadow: var(--shadow-soft);
  }

  .hero__bg{
    position:absolute;
    inset:0;
    background-size:cover;
    background-position:center;
    transform: scale(1.02);
  }

  .hero__dim{
    position:absolute;
    inset:0;
    background: rgba(0,0,0,.35);
  }

  .items-strip{
    margin-top: var(--head-gap);      /* ORANGE */

    height: 25vh;
    min-height: 170px;
    max-height: 240px;

    border-radius: var(--radius);
    overflow-x:auto;
    overflow-y:hidden;
    background:#fff;
    box-shadow: var(--shadow-soft);

    display:flex;
    align-items:center;
    gap:14px;

    padding: var(--head-gap);         /* BLAU (Innenabstand oben/unten/links/rechts) */
    scroll-behavior:smooth;
  }

  .item-thumb{
    flex:0 0 auto;
    height: 100%;
    aspect-ratio: 1/1;
    border-radius:14px;
    overflow:hidden;
    background:#eef1f6;
    box-shadow:0 6px 18px rgba(0,0,0,.10);
  }

  .item-thumb img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }

  @media (max-width:700px){
    :root{
      --title-pad-x: 40px;
      --head-gap: 26px;
    }
    .hero{ height: 46vh; min-height: 300px; }
  }
  @media (max-width:560px){
    :root{
      --title-pad-x: 22px;
      --head-gap: 22px;
    }
    .items-strip{ min-height: 150px; max-height: 210px; }
  }
</style>

<section class="head-wrap">
  <div class="hero">
    <div class="hero__bg" id="heroBg"></div>
    <div class="hero__dim"></div>
  </div>

  <div class="items-strip" id="itemsStrip"></div>
</section>

<script>
(async function(){
  const BG_MANIFEST    = "image/hintergrund/manifest.json";
  const ITEMS_MANIFEST = "Items/manifest.json";

  const load = async (p) => (await (await fetch(p,{cache:"no-store"})).json());
  const pick = (a) => a[Math.floor(Math.random()*a.length)];
  const shuffle = (a) => a.slice().sort(()=>Math.random()-0.5);

  try{
    const bg = await load(BG_MANIFEST);
    if(bg?.length){
      document.getElementById("heroBg").style.backgroundImage =
        "url('image/hintergrund/" + pick(bg) + "')";
    }
  }catch(e){ console.warn("BG manifest fehlt/fehlerhaft"); }

  try{
    const items = await load(ITEMS_MANIFEST);
    const strip = document.getElementById("itemsStrip");
    if(items?.length && strip){
      strip.innerHTML = "";
      for(const src of shuffle(items).slice(0,12)){
        const d = document.createElement("div");
        d.className = "item-thumb";
        const img = document.createElement("img");
        img.loading="lazy"; img.alt=""; img.src=src;
        d.appendChild(img);
        strip.appendChild(d);
      }
    }
  }catch(e){ console.warn("Items manifest fehlt/fehlerhaft"); }
})();
</script>
